import{r as g,j as e,Y as y,a as h}from"./app-COgEFxn6.js";import{A as v,_ as N}from"./AuthenticatedLayout-Hc2vpoxp.js";import{r as x}from"./index-dbUbxzOb.js";import"./transition-B4QTwKkf.js";function w({auth:r}){const i=g.useRef(null),u=n=>{i.current.click()},f=async n=>{var l,o,c,d,m,p;const s=new FormData;s.append("import_file",n.target.files[0]);try{const t=await axios.post(route("mo.file.generator.upload"),s);(o=(l=t==null?void 0:t.data)==null?void 0:l.output)!=null&&o.filePaths?t==null||t.data.output.filePaths.map(j=>{const a=document.createElement("a");a.href=j,a.download="",document.body.appendChild(a),a.click(),document.body.removeChild(a)}):(d=(c=t==null?void 0:t.data)==null?void 0:c.output)!=null&&d.error&&N.error(`${(p=(m=t==null?void 0:t.data)==null?void 0:m.output)==null?void 0:p.error}`)}catch(t){console.log(t)}};return e.jsxs(v,{user:r==null?void 0:r.user,children:[e.jsx(y,{title:"MO File Generator"}),e.jsx("div",{className:"top-section p-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"",children:[e.jsx(x.Typography,{variant:"h3",className:"tracking-tight",children:"MO File Generator"}),e.jsxs("ul",{className:"flex gap-1 text-gray-600 text-sm",children:[e.jsx("li",{children:e.jsx(h,{href:route("dashboard"),children:"Dashboard"})}),e.jsx("li",{children:"/"}),e.jsx("li",{children:e.jsx(h,{href:route("mo.file.generator"),children:"MO File Generator"})})]})]})})}),e.jsx("div",{className:"content mt-6",children:e.jsxs("div",{className:"mx-6",children:[e.jsx(x.Button,{variant:"gradient",className:"capitalize",size:"sm",onClick:u,children:"Upload xlsx file"}),e.jsx("input",{type:"file",onChange:f,ref:i,style:{display:"none"}})]})})]})}export{w as default};
