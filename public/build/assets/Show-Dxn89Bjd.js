import{j as e,Y as f,a as h,R as N}from"./app-CuK1RSyp.js";import{A as b}from"./AuthenticatedLayout-CY1JwWgo.js";import{r}from"./index-CS10C1jB.js";import"./TextInput-D7cqcmOi.js";import{U as y,F as v,I as w}from"./UploadItemField-Dp324apO.js";import{p as T}from"./format-utaHABU8.js";import"./transition-CNrOoFMv.js";import"./index-DZ_dUaPi.js";import"./createLucideIcon-CSMUPcFI.js";import"./floating-ui.dom-BJX5GPEt.js";function H({auth:x,site:l,trackings:p}){console.log(p);const i=["LOCID","WNTD","IMSI","VERSION","AVC","BW Profile","Lon","Lat","SiteName","HomeCell","HomePCI","Traffic Profile","Start Date","End Date","Solution Type","Status","Remarks","Artifacts"],n=(a,c)=>{var s;if(a)return(s=a[c])==null?void 0:s.value},j=({files:a})=>{if(a){const c=JSON.parse(a),s=d=>d.split(".").pop(),t=d=>{const m=d.split("/");let o=m[m.length-1];return o=o.replace(/^\d+_/,""),o},u=(d,m)=>{const o=document.createElement("a");o.href=d,o.download=m,document.body.appendChild(o),o.click(),document.body.removeChild(o)};return e.jsx("div",{className:"flex mt-3",children:c.map((d,m)=>e.jsxs(N.Fragment,{children:[s(d)==="csv"&&e.jsx(r.Tooltip,{content:t(d),children:e.jsx(v,{onClick:()=>u(d,t(d)),className:"cursor-pointer"})}),s(d)==="txt"&&e.jsx("img",{src:"txt-icon.png",alt:"Text File Icon"}),s(d)==="pdf"&&e.jsx(r.Tooltip,{content:t(d),children:e.jsx(w,{})})]},m))})}};return e.jsxs(b,{user:x==null?void 0:x.user,children:[e.jsx(f,{title:"Site"}),e.jsx("div",{className:"top-section p-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"",children:[e.jsx(r.Typography,{variant:"h3",className:"tracking-tight",children:l==null?void 0:l.loc_id}),e.jsxs("ul",{className:"flex gap-1 text-gray-600 text-sm",children:[e.jsx("li",{children:e.jsx(h,{href:route("dashboard"),children:"Dashboard"})}),e.jsx("li",{children:"/"}),e.jsx("li",{children:e.jsx(h,{href:route("wireless.sites.index"),children:"WNTD"})})]})]})})}),e.jsx("div",{className:"content mt-6",children:e.jsx(r.Card,{className:"h-full w-full rounded-none",children:e.jsx("div",{className:"overflow-x-auto overflow-hidden",children:e.jsxs("table",{className:"w-full min-w-max table-auto text-left",children:[e.jsx("thead",{children:e.jsx("tr",{children:i.map(a=>e.jsx("th",{className:"border-y border-blue-gray-100 bg-blue-gray-50/50 p-2 border-l cursor-pointer",children:e.jsx("div",{className:"flex justify-between",children:e.jsx(r.Typography,{variant:"small",className:"leading-none text-gray-800 font-medium text-sm",children:a})})},a.name))})}),e.jsx("tbody",{children:e.jsxs("tr",{className:"even:bg-blue-gray-50/50",children:[e.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:e.jsx(h,{href:route("wireless.show.location.index",l==null?void 0:l.loc_id),children:l==null?void 0:l.loc_id})}),e.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:l==null?void 0:l.wntd}),e.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:l==null?void 0:l.imsi}),e.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:l==null?void 0:l.version}),e.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:l==null?void 0:l.avc}),e.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:l==null?void 0:l.bw_profile}),e.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2 w-20",children:l==null?void 0:l.lon}),e.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2 w-20",children:l==null?void 0:l.lat}),e.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:l==null?void 0:l.site_name}),e.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:l==null?void 0:l.home_cell}),e.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:l==null?void 0:l.home_pci}),e.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:l==null?void 0:l.traffic_profile}),e.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:n(l==null?void 0:l.tracking,"start_date")}),e.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:n(l==null?void 0:l.tracking,"end_date")}),e.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2 capitalize",children:n(l==null?void 0:l.tracking,"solution_type")}),e.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2 capitalize",children:n(l==null?void 0:l.tracking,"status")}),e.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2 capitalize",children:n(l==null?void 0:l.tracking,"remarks")}),e.jsx("td",{className:"border-l h-10",children:e.jsx(y,{value:n(l==null?void 0:l.tracking,"artifacts"),name:"artifacts",locId:l.loc_id,siteId:l.id,single:!0})})]},l.id)})]})})})}),e.jsx("div",{children:e.jsx("div",{className:"py-12 px-12 relative z-10",children:e.jsx(r.Timeline,{children:p.map((a,c)=>e.jsxs(r.TimelineItem,{children:[e.jsx(r.TimelineConnector,{}),e.jsxs(r.TimelineHeader,{className:"h-3",children:[e.jsx(r.TimelineIcon,{}),e.jsx(r.Typography,{variant:"h6",color:"blue-gray",className:"leading-none",children:T(new Date(a.created_at),"MMMM dd, yyyy HH:mm:ss")})]}),e.jsx(r.TimelineBody,{className:"pb-8",children:a.key==="artifacts"?e.jsxs(r.Typography,{variant:"small",color:"gray",className:"font-normal text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:a==null?void 0:a.user.name})," Uploaded New  ",e.jsx("span",{className:"capitalize font-semibold",children:a.key?a.key.replace(/_/g," "):""}),(a==null?void 0:a.value)&&e.jsx(j,{files:a==null?void 0:a.value})]}):e.jsxs(r.Typography,{variant:"small",color:"gray",className:"font-normal text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:a==null?void 0:a.user.name})," changed value of ",e.jsx("span",{className:"capitalize font-semibold",children:a.key?a.key.replace(/_/g," "):""})," to",e.jsx("span",{className:"capitalize block",children:a.value})]})})]},c))})})})]})}export{H as default};
