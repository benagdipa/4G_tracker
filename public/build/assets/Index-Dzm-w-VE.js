import{r as n,W as M,j as e,Y as z,a as A}from"./app-CCDKFb32.js";import{I as p}from"./InputError-BQBjbkuX.js";import{I as u}from"./InputLabel-Cgma3voi.js";import{T as C}from"./TextInput-0BWUWODR.js";import{A as P}from"./AuthenticatedLayout-hrcEWqIj.js";import{r as s}from"./index-D5c2k_vI.js";import{c as W}from"./createLucideIcon-DTR5hfQ9.js";import"./transition-ChlbT1tq.js";import"./floating-ui.dom-BJX5GPEt.js";/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=W("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Q({auth:i,locations:j}){const[T,o]=n.useState(!1),[k,f]=n.useState(""),[c,g]=n.useState(""),[D,S]=n.useState(""),E=["SN","Name","Address",""],{data:m,setData:d,post:N,processing:I,errors:x,reset:h,delete:B}=M({name:"",address:"",map_code:""}),v=(a,t=0)=>{if(t!==0&&S(t),a==="add")f("Add New"),g("_add");else if(a==="edit"){const l=j.filter(r=>r.id===t);d({...l[0]}),f("Edit"),g("_edit")}o(!0)},y=()=>{o(!1),h()},b=a=>{a.preventDefault(),c==="_add"?N(route("wireless.location.store"),{onSuccess:()=>{h(),o(!1)}}):c==="_edit"&&N(route("wireless.location.update",D),{onSuccess:()=>{h(),o(!1)}})},_=({id:a})=>{const[t,l]=n.useState(!1),r=()=>{l(!t)},L=w=>{w&&B(route("wireless.location.delete",w),{onSuccess:()=>{l(!1)}})};return e.jsxs(s.Popover,{placement:"top",open:t,handler:r,children:[e.jsx(s.PopoverHandler,{children:e.jsx(s.Button,{color:"red",size:"sm",children:"Delete"})}),e.jsxs(s.PopoverContent,{className:"w-96",children:[e.jsx(s.Typography,{variant:"h4",className:"mb-6 text-center text-black tracking-tighter",children:"Are You sure?"}),e.jsxs("div",{className:"flex gap-2 justify-center items-center",children:[e.jsx(s.Button,{variant:"filled",size:"sm",onClick:r,children:"No"}),e.jsx(s.Button,{variant:"gradient",size:"sm",color:"red",onClick:()=>{L(a)},children:"Yes"})]})]})]})};return e.jsxs(P,{user:i==null?void 0:i.user,children:[e.jsx(z,{title:"Wireless Locations"}),e.jsx("div",{className:"top-section p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"",children:[e.jsx(s.Typography,{variant:"h3",className:"tracking-tightFont",children:"Wireless Locations"}),e.jsx("div",{className:"pt-2",children:e.jsxs("ul",{className:"flex gap-1 text-gray-600 text-sm",children:[e.jsx("li",{children:e.jsx(A,{href:route("dashboard"),children:"Dashboard"})}),e.jsx("li",{children:"/"}),e.jsx("li",{children:e.jsx(A,{href:route("wireless.location.index"),children:"Wireless Locations"})})]})})]}),e.jsx(s.Button,{onClick:()=>{v("add")},variant:"gradient",children:"Add New"})]})}),e.jsx("div",{className:"content mt-8",children:e.jsx(s.Card,{className:"h-full w-full overflow-scroll rounded-none",children:e.jsxs("table",{className:"w-full min-w-max table-auto text-left",children:[e.jsx("thead",{children:e.jsx("tr",{children:E.map(a=>e.jsx("th",{className:"border-y border-blue-gray-100 bg-blue-gray-50/50 p-4",children:e.jsx(s.Typography,{variant:"small",className:"leading-none text-gray-800 font-semibold text-lg",children:a})},a))})}),e.jsx("tbody",{children:j.map(({id:a,name:t,address:l},r)=>e.jsxs("tr",{className:"even:bg-blue-gray-50/50",children:[e.jsx("td",{className:"p-4",children:e.jsx(s.Typography,{variant:"small",className:"font-medium text-lg",children:r+1})}),e.jsx("td",{className:"p-4",children:e.jsx(s.Typography,{variant:"small",className:"font-medium text-lg",children:t})}),e.jsx("td",{className:"p-4",children:e.jsx(s.Typography,{variant:"small",className:"font-medium text-lg",children:l})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex gap-1 items-center justify-center",children:[e.jsx(s.Button,{color:"blue",size:"sm",onClick:()=>v("edit",a),children:"Edit"}),e.jsx(_,{id:a})]})})]},t))})]})})}),e.jsxs(s.Dialog,{open:T,handler:y,size:"xs",children:[e.jsxs(s.DialogHeader,{className:"justify-between",children:[e.jsxs(s.Typography,{variant:"h5",color:"blue-gray",children:[k," Location"]}),e.jsx(s.IconButton,{color:"blue-gray",size:"sm",variant:"text",onClick:y,children:e.jsx(F,{})})]}),e.jsx(s.DialogBody,{children:e.jsxs("form",{className:"pb-5",onSubmit:b,children:[e.jsxs("div",{className:"form-item mb-4",children:[e.jsx(u,{value:"Name",className:"mb-2"}),e.jsx(C,{className:"w-full font-normal text-gray-700",placeholder:"Name...",value:m.name,onChange:a=>d("name",a.target.value)}),e.jsx(p,{message:x.name,className:"mt-2"})]}),e.jsxs("div",{className:"form-item mb-4",children:[e.jsx(u,{value:"Address",className:"mb-2"}),e.jsx(C,{className:"w-full font-normal text-gray-700",placeholder:"Address...",value:m.address,onChange:a=>d("address",a.target.value)}),e.jsx(p,{message:x.address,className:"mt-2"})]}),e.jsxs("div",{className:"form-item mb-4",children:[e.jsx(u,{value:"Map Code",className:"mb-2"}),e.jsx("textarea",{className:"w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm font-normal text-gray-700",placeholder:"Address...",rows:8,value:m.map_code,onChange:a=>d("map_code",a.target.value)}),e.jsx(p,{message:x.map_code,className:"mt-2"})]}),e.jsx("div",{className:"text-right",children:e.jsx(s.Button,{variant:"gradient",color:"green",loading:I,onClick:b,children:e.jsx("span",{children:"Confirm"})})}),e.jsx("input",{type:"hidden",name:"type",value:c})]})})]})]})}export{Q as default};
