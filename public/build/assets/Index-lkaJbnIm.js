import{j as r,a as u,r as p,Y as k,d as C,y as h}from"./app-3pJHEf12.js";import{T as K}from"./TextInput-hbdbdHaD.js";import{A as T,C as D,_ as z}from"./AuthenticatedLayout-dXausa8g.js";import{r as n}from"./index-Y7xV2V3x.js";import L from"./InputItemField-BHC-Zf9_.js";import g from"./DateItemField-DZqsQTaQ.js";import N from"./SelectItemField-M8Ia_3tE.js";import W from"./UploadItemField-BYrl_Bef.js";import{c as v}from"./createLucideIcon-CmfSugWV.js";import"./transition-Bo8bFFT3.js";import"./floating-ui.dom-BJX5GPEt.js";import"./endOfMonth-Bo_xtd2T.js";import"./index-9OFpv4KG.js";/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=v("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=v("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);function F({links:t}){function i(a){return a?"bg-gray-600 text-white text-xs font-semibold rounded-md px-3 py-2":"bg-gradient-to-tr from-gray-900 to-gray-800 text-white text-xs font-semibold rounded-md px-3 py-2"}return t.length>3&&r.jsx("div",{className:"mb-4",children:r.jsx("div",{className:"flex flex-wrap mt-8 justify-end px-4 gap-1",children:t.map((a,d)=>a.url===null?r.jsx("div",{className:"bg-gray-600 text-white text-xs font-semibold rounded-md px-3 py-2",children:r.jsx("span",{dangerouslySetInnerHTML:{__html:a.label}})},d):r.jsx(u,{className:i(a.active),href:a.url,children:r.jsx("span",{dangerouslySetInnerHTML:{__html:a.label}})},d))})})}function Q({auth:t,sites:i}){var b;const a=[{name:"LOCID",sortable:!0,sortKey:"loc_id"},{name:"WNTD",sortable:!0,sortKey:"wntd"},{name:"IMSI",sortable:!0,sortKey:"imsi"},{name:"VERSION",sortable:!0,sortKey:"version"},{name:"AVC",sortable:!0,sortKey:"avc"},{name:"BW Profile",sortable:!0,sortKey:"bw_profile"},{name:"Lon",sortable:!0,sortKey:"lon"},{name:"Lat",sortable:!0,sortKey:"lat"},{name:"SiteName",sortable:!0,sortKey:"site_name"},{name:"HomeCell",sortable:!0,sortKey:"home_cell"},{name:"HomePCI",sortable:!0,sortKey:"home_pci"},{name:"Traffic Profile",sortable:!0,sortKey:"traffic_profile"},{name:"Start Date",sortable:!1,sortKey:"start_date"},{name:"End Date",sortable:!1,sortKey:"end_date"},{name:"Solution Type",sortable:!1,sortKey:"solution_type"},{name:"Status",sortable:!1,sortKey:"status"},{name:"Remarks",sortable:!1,sortKey:"remarks"},{name:"Artifacts",sortable:!1,sortKey:"artifacts"}],d=p.useRef(null),[x,_]=p.useState(""),[l]=p.useState(i),w=e=>{d.current.click()},I=async e=>{var c,j,y;const s=new FormData;s.append("import_file",e.target.files[0]);try{const m=await C.post(route("wireless.sites.import"),s);h.visit(route("wireless.sites.index"))}catch(m){z.error(`${(y=(j=(c=m==null?void 0:m.response)==null?void 0:c.data)==null?void 0:j.error)==null?void 0:y.message}`)}},S=async()=>{x&&h.get(route("wireless.sites.search",x))},f=async(e,s)=>{h.get(route("wireless.sites.sort",{key:e,order:s}))},o=(e,s)=>{var c;if(e)return(c=e[s])==null?void 0:c.value};return r.jsxs(T,{user:t==null?void 0:t.user,children:[r.jsx(k,{title:"Wireless Sites"}),r.jsx("div",{className:"top-section p-4",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"",children:[r.jsx(n.Typography,{variant:"h3",className:"tracking-tight",children:"Wireless Sites"}),r.jsxs("ul",{className:"flex gap-1 text-gray-600 text-sm",children:[r.jsx("li",{children:r.jsx(u,{href:route("dashboard"),children:"Dashboard"})}),r.jsx("li",{children:"/"}),r.jsx("li",{children:r.jsx(u,{href:route("wireless.sites.index"),children:"Wireless Sites"})})]})]})})}),r.jsx("div",{className:"filter-wrapper px-4",children:r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsxs("div",{className:"search-wrapper w-1/3 flex relative",children:[r.jsx(K,{placeholder:"Search...",className:"w-full text-sm rounded-md rounded-r-none border-r-0 focus:ring-0 h-8",value:x,onChange:e=>_(e.target.value)}),r.jsx("div",{className:"search-icon",children:r.jsx(n.IconButton,{size:"sm",className:"rounded-l-none",onClick:S,children:r.jsx(E,{color:"white",size:18})})})]}),r.jsxs("div",{children:[r.jsx(n.Button,{variant:"gradient",className:"capitalize",size:"sm",onClick:w,children:"Import from CSV"}),r.jsx("input",{type:"file",onChange:I,ref:d,style:{display:"none"}})]})]})}),r.jsx("div",{className:"content mt-6",children:r.jsxs(n.Card,{className:"h-full w-full rounded-none",children:[r.jsxs("table",{className:"w-full min-w-max table-auto text-left",children:[r.jsx("thead",{children:r.jsx("tr",{children:a.map(e=>r.jsx("th",{className:"border-y border-blue-gray-100 bg-blue-gray-50/50 p-2 border-l cursor-pointer",children:r.jsxs("div",{className:"flex justify-between",children:[r.jsx(n.Typography,{variant:"small",className:"leading-none text-gray-800 font-medium text-sm",children:e.name}),(e==null?void 0:e.sortable)&&r.jsxs("div",{className:"relative mt-1",children:[r.jsx("span",{className:"absolute -top-2 right-0 hover:bg-blue-gray-100 rounded-sm",children:r.jsx(A,{size:12,strokeWidth:2,onClick:()=>{f(e.sortKey,"asc")}})}),r.jsx("span",{className:"absolute -bottom-1 right-0 hover:bg-blue-gray-100 rounded-sm",children:r.jsx(D,{size:12,strokeWidth:2,onClick:()=>{f(e.sortKey,"desc")}})})]})]})},e.name))})}),r.jsx("tbody",{children:l==null?void 0:l.data.map((e,s)=>r.jsxs("tr",{className:"even:bg-blue-gray-50/50",children:[r.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:e==null?void 0:e.loc_id}),r.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:e==null?void 0:e.wntd}),r.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:e==null?void 0:e.imsi}),r.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:e==null?void 0:e.version}),r.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:e==null?void 0:e.avc}),r.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:e==null?void 0:e.bw_profile}),r.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2 w-20",children:e==null?void 0:e.lon}),r.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2 w-20",children:e==null?void 0:e.lat}),r.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:e==null?void 0:e.site_name}),r.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:e==null?void 0:e.home_cell}),r.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:e==null?void 0:e.home_pci}),r.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:e==null?void 0:e.traffic_profile}),r.jsx("td",{className:"border-l h-10",children:r.jsx(g,{value:o(e==null?void 0:e.tracking,"start_date"),name:"start_date",locId:e.loc_id,siteId:e.id})}),r.jsx("td",{className:"border-l h-10",children:r.jsx(g,{value:o(e==null?void 0:e.tracking,"end_date"),name:"end_date",locId:e.loc_id,siteId:e.id})}),r.jsx("td",{className:"border-l h-10",children:r.jsx(N,{value:o(e==null?void 0:e.tracking,"solution_type"),name:"solution_type",locId:e.loc_id,siteId:e.id,options:[{label:"Device Upgrade",value:"device_upgrade"},{label:"Reparent",value:"reparent"},{label:"Repan",value:"repan"}]})}),r.jsx("td",{className:"border-l h-10",children:r.jsx(N,{value:o(e==null?void 0:e.tracking,"status"),name:"status",locId:e.loc_id,siteId:e.id,options:[{label:"In Progress",value:"in_progress"},{label:"Not Started",value:"not_started"},{label:"Completed",value:"completed"}]})}),r.jsx("td",{className:"border-l h-10",children:r.jsx(L,{value:o(e==null?void 0:e.tracking,"remarks"),name:"remarks",locId:e.loc_id,siteId:e.id})}),r.jsx("td",{className:"border-l h-10",children:r.jsx(W,{value:o(e==null?void 0:e.tracking,"artifacts"),name:"artifacts",locId:e.loc_id,siteId:e.id})})]},e.id))})]}),((b=l==null?void 0:l.data)==null?void 0:b.length)===0&&r.jsx(n.Typography,{variant:"h6",color:"blue-gray",className:"text-center py-6",children:"No data found"}),r.jsx(F,{class:"mt-6",links:l==null?void 0:l.links})]})})]})}export{Q as default};
