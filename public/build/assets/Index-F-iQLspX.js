import{r as f,j as e,Y as j,a as m}from"./app-DAzekKQ-.js";import{A as g,_ as y}from"./AuthenticatedLayout-Ddx_T5Ze.js";import{r as p}from"./index-Cnm3a1o2.js";import"./transition-CS4nec59.js";function b({auth:r}){const s=f.useRef(null),h=i=>{s.current.click()},x=async i=>{var l,o,c,d;const n=new FormData;n.append("import_file",i.target.files[0]);try{const t=await axios.post(route("mo.file.generator.upload"),n);(o=(l=t==null?void 0:t.data)==null?void 0:l.output)!=null&&o.filePaths?t==null||t.data.output.filePaths.map(u=>{const a=document.createElement("a");a.href=u,a.download="",document.body.appendChild(a),a.click(),document.body.removeChild(a)}):y.error(`${(d=(c=t==null?void 0:t.data)==null?void 0:c.output)==null?void 0:d.error}`)}catch(t){console.log(t)}};return e.jsxs(g,{user:r==null?void 0:r.user,children:[e.jsx(j,{title:"MO File Generator"}),e.jsx("div",{className:"top-section p-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"",children:[e.jsx(p.Typography,{variant:"h3",className:"tracking-tight",children:"MO File Generator"}),e.jsxs("ul",{className:"flex gap-1 text-gray-600 text-sm",children:[e.jsx("li",{children:e.jsx(m,{href:route("dashboard"),children:"Dashboard"})}),e.jsx("li",{children:"/"}),e.jsx("li",{children:e.jsx(m,{href:route("mo.file.generator"),children:"MO File Generator"})})]})]})})}),e.jsx("div",{className:"content mt-6",children:e.jsxs("div",{className:"mx-6",children:[e.jsx(p.Button,{variant:"gradient",className:"capitalize",size:"sm",onClick:h,children:"Upload xlsx file"}),e.jsx("input",{type:"file",onChange:x,ref:s,style:{display:"none"}})]})})]})}export{b as default};
