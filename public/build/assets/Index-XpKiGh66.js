import{r as g,j as e,Y as v,a as p,b as C}from"./app-9Xx7uxZX.js";import{A as N,_ as m}from"./AuthenticatedLayout-rxxwe8ok.js";import{r as h}from"./index-_S3y8LLf.js";import"./transition-DIoRP3Tk.js";function E({auth:a}){const n=g.useRef(null),x=()=>{n.current.click()},f=async j=>{var o,s,l,c,d,u;const i=new FormData;i.append("import_file",j.target.files[0]);try{const t=await C.post(route("mo.file.generator.upload"),i,{headers:{"Content-Type":"multipart/form-data"}});(s=(o=t==null?void 0:t.data)==null?void 0:o.output)!=null&&s.filePaths?t.data.output.filePaths.forEach(y=>{const r=document.createElement("a");r.href=y,r.download="",document.body.appendChild(r),r.click(),document.body.removeChild(r)}):(c=(l=t==null?void 0:t.data)==null?void 0:l.output)!=null&&c.error&&m.error(`${(u=(d=t==null?void 0:t.data)==null?void 0:d.output)==null?void 0:u.error}`)}catch(t){console.error(t),m.error("An error occurred during file upload.")}};return e.jsxs(N,{user:a==null?void 0:a.user,children:[e.jsx(v,{title:"Frequency Retune"}),e.jsx("div",{className:"top-section p-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx(h.Typography,{variant:"h3",className:"tracking-tight",children:"MO File Generator"}),e.jsxs("ul",{className:"flex gap-1 text-gray-600 text-sm",children:[e.jsx("li",{children:e.jsx(p,{href:route("dashboard"),children:"Dashboard"})}),e.jsx("li",{children:"/"}),e.jsx("li",{children:e.jsx(p,{href:route("mo.file.generator"),children:"Frequency Retune"})})]})]})})}),e.jsx("div",{className:"content mt-6",children:e.jsxs("div",{className:"mx-6",children:[e.jsx(h.Button,{variant:"gradient",className:"capitalize",size:"sm",onClick:x,children:"Upload xlsx file"}),e.jsx("input",{type:"file",onChange:f,ref:n,style:{display:"none"}})]})})]})}export{E as default};
