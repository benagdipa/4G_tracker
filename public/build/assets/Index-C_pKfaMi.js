import{j as r,a as h,q as A,r as m,Y as L,d as U,y as u}from"./app-CDuSnJde.js";import{T as W}from"./TextInput-Jv9Cotn5.js";import{A as E,C as M}from"./AuthenticatedLayout-Ddd8kdqv.js";import{r as i}from"./index-Hv5h3j9y.js";import{_ as $}from"./index-DqKzjJe7.js";import H from"./InputItemField-CmVMHWCc.js";import w from"./DateItemField-C9rimsSN.js";import C from"./SelectItemField-CZYTmOeK.js";import{U as V}from"./UploadItemField-CxRJXK9j.js";import B from"./CSVMapping-xkcRtRwY.js";import{c as I}from"./createLucideIcon-ZrinnN6L.js";import"./transition-Bhal_lVd.js";import"./floating-ui.dom-BJX5GPEt.js";import"./format-utaHABU8.js";import"./InputLabel-CYV-yjNM.js";import"./InputError-J4mHyDtT.js";/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=I("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=I("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);function Y({links:d,perPage:l}){function a(o){return o?"bg-gray-600 text-white text-xs font-semibold rounded-md px-3 py-2":"bg-gradient-to-tr from-gray-900 to-gray-800 text-white text-xs font-semibold rounded-md px-3 py-2"}return d.length>3&&r.jsx("div",{className:"flex flex-wrap flex-start md:justify-end gap-1",children:d.map((o,p)=>o.url===null?r.jsx("div",{className:"bg-gray-600 text-white text-xs font-semibold rounded-md px-3 py-2",children:r.jsx("span",{dangerouslySetInnerHTML:{__html:o.label}})},p):r.jsx(h,{className:a(o.active),href:`${o.url}&per_page=${l}`,children:r.jsx("span",{dangerouslySetInnerHTML:{__html:o.label}})},p))})}function ie({auth:d,sites:l}){var v;const{get_data:a}=A().props,o=[{name:"LOCID",sortable:!0,sortKey:"loc_id"},{name:"WNTD",sortable:!0,sortKey:"wntd"},{name:"IMSI",sortable:!0,sortKey:"imsi"},{name:"VERSION",sortable:!0,sortKey:"version"},{name:"AVC",sortable:!0,sortKey:"avc"},{name:"BW Profile",sortable:!0,sortKey:"bw_profile"},{name:"Lon",sortable:!0,sortKey:"lon"},{name:"Lat",sortable:!0,sortKey:"lat"},{name:"SiteName",sortable:!0,sortKey:"site_name"},{name:"HomeCell",sortable:!0,sortKey:"home_cell"},{name:"HomePCI",sortable:!0,sortKey:"home_pci"},{name:"Traffic Profile",sortable:!0,sortKey:"traffic_profile"},{name:"Start Date",sortable:!1,sortKey:"start_date"},{name:"End Date",sortable:!1,sortKey:"end_date"},{name:"Solution Type",sortable:!1,sortKey:"solution_type"},{name:"Status",sortable:!1,sortKey:"status"},{name:"Remarks",sortable:!1,sortKey:"remarks"},{name:"Artifacts",sortable:!1,sortKey:"artifacts"}],p=m.useRef(null),[f,S]=m.useState(a!=null&&a.search?a==null?void 0:a.search:""),[j,K]=m.useState(a!=null&&a.per_page?a==null?void 0:a.per_page:10),[n]=m.useState(l),[k,y]=m.useState(!1),[D,T]=m.useState(""),P=e=>{p.current.click()},R=async e=>{var x,N,_;const t=new FormData;t.append("import_file",e.target.files[0]);try{const s=await U.post(route("wireless.sites.import"),t);s!=null&&s.data&&(T(s==null?void 0:s.data),y(!0))}catch(s){$.error(`${(_=(N=(x=s==null?void 0:s.response)==null?void 0:x.data)==null?void 0:N.error)==null?void 0:_.message}`)}},F=async()=>{f&&u.get(route("wireless.sites.index",{search:f}))},b=async(e,t)=>{u.get(route("wireless.sites.index",{order_by:e,order:t}))},c=(e,t)=>{var x;if(e)return(x=e[t])==null?void 0:x.value},g=async(e,t)=>{u.get(route("wireless.sites.index",{filter_by:e,value:t}))},z=e=>{K(e),u.get(route("wireless.sites.index",{...a,per_page:e}))};return r.jsxs(E,{user:d==null?void 0:d.user,children:[r.jsx(L,{title:"Wireless Sites"}),r.jsx("div",{className:"top-section p-4",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"",children:[r.jsx(i.Typography,{variant:"h3",className:"tracking-tight",children:"WNTD"}),r.jsxs("ul",{className:"flex gap-1 text-gray-600 text-sm",children:[r.jsx("li",{children:r.jsx(h,{href:route("dashboard"),children:"Dashboard"})}),r.jsx("li",{children:"/"}),r.jsx("li",{children:r.jsx(h,{href:route("wireless.sites.index"),children:"WNTD"})})]})]})})}),r.jsx("div",{className:"filter-wrapper md:px-4",children:r.jsxs("div",{className:"flex filter-details justify-end gap-3",children:[r.jsxs("div",{className:"search-wrapper w-1/3 flex relative",children:[r.jsx(W,{placeholder:"Search...",className:"w-full text-sm rounded-md rounded-r-none border-r-0 focus:ring-0 h-8",value:f,onChange:e=>S(e.target.value)}),r.jsx("div",{className:"search-icon",children:r.jsx(i.IconButton,{size:"sm",className:"rounded-l-none",onClick:F,children:r.jsx(O,{color:"white",size:18})})})]}),r.jsx("div",{className:"status-filter",children:r.jsxs("select",{className:"w-52 text-sm rounded-md focus:ring-0 h-8 border-gray-300 py-1 text-gray-600 font-medium",onChange:e=>g("status",e.target.value),value:(a==null?void 0:a.filter_by)==="status"?a==null?void 0:a.value:"",children:[r.jsx("option",{value:"",children:"Filter by Status"}),r.jsx("option",{value:"in_progress",children:"In Progress"}),r.jsx("option",{value:"not_started",children:"Not Started"}),r.jsx("option",{value:"completed",children:"Completed"})]})}),r.jsx("div",{className:"filter-solution-type",children:r.jsxs("select",{className:"w-52 text-sm rounded-md focus:ring-0 h-8 border-gray-300 py-1 text-gray-600 font-medium",onChange:e=>g("solution_type",e.target.value),value:(a==null?void 0:a.filter_by)==="solution_type"?a==null?void 0:a.value:"",children:[r.jsx("option",{value:"",children:"Filter by Solution Type"}),r.jsx("option",{value:"device_upgrade",children:"Device Upgrade"}),r.jsx("option",{value:"reparent",children:"Reparent"}),r.jsx("option",{value:"repan",children:"Repan"})]})}),r.jsxs("div",{className:"import-type-field",children:[r.jsx(i.Button,{variant:"gradient",className:"capitalize",size:"sm",onClick:P,children:"Import from CSV"}),r.jsx("input",{type:"file",onChange:R,ref:p,style:{display:"none"}})]})]})}),r.jsxs("div",{className:"content mt-6",children:[r.jsx(i.Card,{className:"h-full w-full rounded-none",children:r.jsxs("div",{className:"overflow-x-auto overflow-hidden",children:[r.jsxs("table",{className:"w-full table-auto",children:[r.jsx("thead",{children:r.jsx("tr",{children:o.map(e=>r.jsx("th",{className:"border-y border-blue-gray-100 bg-blue-gray-50/50 p-2 border-l cursor-pointer",children:r.jsxs("div",{className:"flex justify-between",children:[r.jsx(i.Typography,{variant:"small",className:"leading-none text-gray-800 font-medium text-sm",children:e.name}),(e==null?void 0:e.sortable)&&r.jsxs("div",{className:"relative mt-1",children:[r.jsx("span",{className:"absolute -top-2 right-0 hover:bg-blue-gray-100 rounded-sm",children:r.jsx(q,{size:12,strokeWidth:2,onClick:()=>{b(e.sortKey,"asc")}})}),r.jsx("span",{className:"absolute -bottom-1 right-0 hover:bg-blue-gray-100 rounded-sm",children:r.jsx(M,{size:12,strokeWidth:2,onClick:()=>{b(e.sortKey,"desc")}})})]})]})},e.name))})}),r.jsx("tbody",{children:n==null?void 0:n.data.map((e,t)=>r.jsxs("tr",{className:"even:bg-blue-gray-50/50",children:[r.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:r.jsx(h,{href:route("wireless.show.location.index",e==null?void 0:e.loc_id),className:"font-semibold underline",children:e==null?void 0:e.loc_id})}),r.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:e==null?void 0:e.wntd}),r.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:e==null?void 0:e.imsi}),r.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:e==null?void 0:e.version}),r.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:e==null?void 0:e.avc}),r.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:e==null?void 0:e.bw_profile}),r.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2 w-20",children:e==null?void 0:e.lon}),r.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2 w-20",children:e==null?void 0:e.lat}),r.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:e==null?void 0:e.site_name}),r.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:e==null?void 0:e.home_cell}),r.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:e==null?void 0:e.home_pci}),r.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:e==null?void 0:e.traffic_profile}),r.jsx("td",{className:"border-l h-10",children:r.jsx(w,{value:c(e==null?void 0:e.tracking,"start_date"),name:"start_date",locId:e.loc_id,siteId:e.id})}),r.jsx("td",{className:"border-l h-10",children:r.jsx(w,{value:c(e==null?void 0:e.tracking,"end_date"),name:"end_date",locId:e.loc_id,siteId:e.id})}),r.jsx("td",{className:"border-l h-10",children:r.jsx(C,{value:c(e==null?void 0:e.tracking,"solution_type"),name:"solution_type",locId:e.loc_id,siteId:e.id,options:[{label:"Device Upgrade",value:"device_upgrade"},{label:"Reparent",value:"reparent"},{label:"Repan",value:"repan"}]})}),r.jsx("td",{className:"border-l h-10",children:r.jsx(C,{value:c(e==null?void 0:e.tracking,"status"),name:"status",locId:e.loc_id,siteId:e.id,options:[{label:"In Progress",value:"in_progress"},{label:"Not Started",value:"not_started"},{label:"Completed",value:"completed"}]})}),r.jsx("td",{className:"border-l h-10",children:r.jsx(H,{value:c(e==null?void 0:e.tracking,"remarks"),name:"remarks",locId:e.loc_id,siteId:e.id})}),r.jsx("td",{className:"border-l h-10",children:r.jsx(V,{value:c(e==null?void 0:e.tracking,"artifacts"),name:"artifacts",locId:e.loc_id,siteId:e.id})})]},e.id))})]}),((v=n==null?void 0:n.data)==null?void 0:v.length)===0&&r.jsx(i.Typography,{variant:"h6",color:"blue-gray",className:"text-center py-6",children:"No data found"}),r.jsxs("div",{className:"md:flex grid justify-start md:justify-end items-center pt-6 mb-8 gap-3 px-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"text-sm font-medium",children:"Rows per Page"}),r.jsxs("select",{className:"rounded-md text-sm font-medium border-gray-400 focus:ring-0 py-2",value:j,onChange:e=>{z(e.target.value)},children:[r.jsx("option",{value:"10",children:"10"}),r.jsx("option",{value:"15",children:"15"}),r.jsx("option",{value:"20",children:"20"}),r.jsx("option",{value:"20",children:"25"}),r.jsx("option",{value:"50",children:"50"}),r.jsx("option",{value:"all",children:"All"})]})]}),r.jsx("div",{className:"text-sm font-medium",children:`${l==null?void 0:l.from}-${l==null?void 0:l.to} of ${l==null?void 0:l.total} Records`}),r.jsx(Y,{links:n==null?void 0:n.links,perPage:j})]})]})}),r.jsx(B,{mappingDialog:k,setMappingDialog:y,mappingData:D})]})]})}export{ie as default};
