import{r as h,j as e,R as J,d as K,y as Q}from"./app-CPKu8S1y.js";import{r as n}from"./index-Cp0RQjEy.js";import{I as t}from"./InputLabel-DE6E3RCu.js";import{I as u}from"./InputError-CInvTRNA.js";import"./floating-ui.dom-BJX5GPEt.js";function g({mappingDialog:f,setMappingDialog:v,mappingData:s,setBatchId:q}){var y,S,C,I,E,M,O,P,L,B,R,T;const z=()=>v(!f),[d,A]=h.useState({file_path:s?s==null?void 0:s.filePath:"",loc_id:"",wntd:"",imsi:"",version:"",avc:"",bw_profile:"",lon:"",lat:"",site_name:"",home_cell:"",home_pci:"",traffic_profile:""}),[x,$]=h.useState({}),[j,m]=h.useState(!1),[N,w]=h.useState(""),[b,_]=h.useState(""),o=(l,r)=>{A(i=>({...i,[l]:r}))};h.useEffect(()=>{o("file_path",s!=null&&s.filePath?s==null?void 0:s.filePath:"")},[s]);const G=async l=>{var i,V,k,H,F,W;l.preventDefault();let r={};if(["loc_id","wntd","imsi","version","avc","bw_profile","lon","lat","site_name","home_cell","home_pci","traffic_profile"].forEach(c=>{d[c]||(r[c]="This field is required.")}),$(r),Object.keys(r).length>0){console.log(r);return}try{m(!0);const c=await K.post(route("wireless.sites.map.save"),d);c!=null&&c.data&&(_((V=(i=c==null?void 0:c.data)==null?void 0:i.success)==null?void 0:V.message),q((k=c==null?void 0:c.data)==null?void 0:k.batch_id),setTimeout(()=>{v(!1),_(""),w("")},3e3),Q.visit(route("wireless.sites.index")))}catch(c){console.log("error:",c),w(`${(W=(F=(H=c==null?void 0:c.response)==null?void 0:H.data)==null?void 0:F.error)==null?void 0:W.message}`)}finally{m(!1)}};return e.jsx(J.Fragment,{children:e.jsxs(n.Dialog,{open:f,size:"xs",children:[e.jsx(n.DialogHeader,{children:"CSV Mapping"}),N&&e.jsx("p",{className:"text-red-500 font-medium text-[12px] px-4",children:N}),b&&e.jsx("p",{className:"text-green-500 font-medium text-[12px] px-4",children:b}),e.jsxs(n.DialogBody,{className:"px-6 overflow-scroll",children:[e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(t,{value:"LOCID",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:d.loc_id,onChange:l=>o("loc_id",l.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((y=s==null?void 0:s.header)==null?void 0:y.length)>0&&(s==null?void 0:s.header.map((l,r)=>e.jsx("option",{value:l,children:l},r)))]}),e.jsx(u,{message:x.loc_id,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(t,{value:"WNTD",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:d.wntd,onChange:l=>o("wntd",l.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((S=s==null?void 0:s.header)==null?void 0:S.length)>0&&(s==null?void 0:s.header.map((l,r)=>e.jsx("option",{value:l,children:l},r)))]}),e.jsx(u,{message:x.wntd,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(t,{value:"IMSI",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:d.imsi,onChange:l=>o("imsi",l.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((C=s==null?void 0:s.header)==null?void 0:C.length)>0&&(s==null?void 0:s.header.map((l,r)=>e.jsx("option",{value:l,children:l},r)))]}),e.jsx(u,{message:x.imsi,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(t,{value:"VERSION",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:d.version,onChange:l=>o("version",l.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((I=s==null?void 0:s.header)==null?void 0:I.length)>0&&(s==null?void 0:s.header.map((l,r)=>e.jsx("option",{value:l,children:l},r)))]}),e.jsx(u,{message:x.version,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(t,{value:"AVC",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:d.avc,onChange:l=>o("avc",l.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((E=s==null?void 0:s.header)==null?void 0:E.length)>0&&(s==null?void 0:s.header.map((l,r)=>e.jsx("option",{value:l,children:l},r)))]}),e.jsx(u,{message:x.avc,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(t,{value:"BW Profile",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:d.bw_profile,onChange:l=>o("bw_profile",l.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((M=s==null?void 0:s.header)==null?void 0:M.length)>0&&(s==null?void 0:s.header.map((l,r)=>e.jsx("option",{value:l,children:l},r)))]}),e.jsx(u,{message:x.bw_profile,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(t,{value:"Lon",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:d.lon,onChange:l=>o("lon",l.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((O=s==null?void 0:s.header)==null?void 0:O.length)>0&&(s==null?void 0:s.header.map((l,r)=>e.jsx("option",{value:l,children:l},r)))]}),e.jsx(u,{message:x.lon,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(t,{value:"Lat",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:d.lat,onChange:l=>o("lat",l.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((P=s==null?void 0:s.header)==null?void 0:P.length)>0&&(s==null?void 0:s.header.map((l,r)=>e.jsx("option",{value:l,children:l},r)))]}),e.jsx(u,{message:x.lat,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(t,{value:"SiteName",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:d.site_name,onChange:l=>o("site_name",l.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((L=s==null?void 0:s.header)==null?void 0:L.length)>0&&(s==null?void 0:s.header.map((l,r)=>e.jsx("option",{value:l,children:l},r)))]}),e.jsx(u,{message:x.site_name,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(t,{value:"HomeCell",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:d.home_cell,onChange:l=>o("home_cell",l.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((B=s==null?void 0:s.header)==null?void 0:B.length)>0&&(s==null?void 0:s.header.map((l,r)=>e.jsx("option",{value:l,children:l},r)))]}),e.jsx(u,{message:x.home_cell,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(t,{value:"HomePCI",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:d.home_pci,onChange:l=>o("home_pci",l.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((R=s==null?void 0:s.header)==null?void 0:R.length)>0&&(s==null?void 0:s.header.map((l,r)=>e.jsx("option",{value:l,children:l},r)))]}),e.jsx(u,{message:x.home_pci,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(t,{value:"Traffic_Profile",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:d.traffic_profile,onChange:l=>o("traffic_profile",l.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((T=s==null?void 0:s.header)==null?void 0:T.length)>0&&(s==null?void 0:s.header.map((l,r)=>e.jsx("option",{value:l,children:l},r)))]}),e.jsx(u,{message:x.traffic_profile,className:"!text-[12px] font-medium"})]})]})})]}),e.jsxs(n.DialogFooter,{children:[e.jsx(n.Button,{variant:"text",color:"red",onClick:z,className:"mr-1",disabled:j,children:e.jsx("span",{children:"Cancel"})}),e.jsx(n.Button,{variant:"gradient",color:"green",onClick:G,loading:j,children:e.jsx("span",{children:"Confirm"})})]})]})})}export{g as default};
