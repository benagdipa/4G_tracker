import{r as h,j as e,R as G,d as J,y as K}from"./app-DuVyQ3f3.js";import{r as n}from"./index-ClccL2zE.js";import{I as x}from"./InputLabel-DYzYoTRj.js";import{I as u}from"./InputError-DMGZGBnT.js";import"./floating-ui.dom-BJX5GPEt.js";function a({mappingDialog:i,setMappingDialog:f,mappingData:s}){var _,S,C,E,q,z,O,P,B,I,L,M,R;const H=()=>f(!i),[c,V]=h.useState({file_path:s?s==null?void 0:s.filePath:"",site_name:"",cell_name:"",lon:"",lat:"",bb_type:"",rru_type:"",antenna_type:"",frequency:"",pci:"",azimuth:"",height:"",last_epo:"",next_epo:""}),[t,U]=h.useState({}),[v,m]=h.useState(!1),[N,y]=h.useState(""),[w,b]=h.useState(""),d=(l,r)=>{V(j=>({...j,[l]:r}))};h.useEffect(()=>{d("file_path",s!=null&&s.filePath?s==null?void 0:s.filePath:"")},[s]);const $=async l=>{var j,T,k,F,A;l.preventDefault();let r={};if(["site_name","cell_name","lon","lat","bb_type","rru_type","antenna_type","frequency","pci","azimuth","height","last_epo","next_epo"].forEach(o=>{c[o]||(r[o]="This field is required.")}),U(r),Object.keys(r).length>0){console.log(r);return}try{m(!0);const o=await J.post(route("site.field.map.save"),c);o!=null&&o.data&&(b((T=(j=o==null?void 0:o.data)==null?void 0:j.success)==null?void 0:T.message),setTimeout(()=>{f(!1),b(""),y("")},3e3),K.visit(route("site.field.name.index")))}catch(o){console.log("error:",o),y(`${(A=(F=(k=o==null?void 0:o.response)==null?void 0:k.data)==null?void 0:F.error)==null?void 0:A.message}`)}finally{m(!1)}};return e.jsx(G.Fragment,{children:e.jsxs(n.Dialog,{open:i,size:"xs",children:[e.jsx(n.DialogHeader,{children:"CSV Mapping"}),N&&e.jsx("p",{className:"text-red-500 font-medium text-[12px] px-4",children:N}),w&&e.jsx("p",{className:"text-green-500 font-medium text-[12px] px-4",children:w}),e.jsxs(n.DialogBody,{className:"px-6 overflow-scroll",children:[e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(x,{value:"Site Name",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:c.site_name,onChange:l=>d("site_name",l.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((_=s==null?void 0:s.header)==null?void 0:_.length)>0&&(s==null?void 0:s.header.map((l,r)=>e.jsx("option",{value:l,children:l},r)))]}),e.jsx(u,{message:t.site_name,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(x,{value:"Cell Name",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:c.cell_name,onChange:l=>d("cell_name",l.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((S=s==null?void 0:s.header)==null?void 0:S.length)>0&&(s==null?void 0:s.header.map((l,r)=>e.jsx("option",{value:l,children:l},r)))]}),e.jsx(u,{message:t.cell_name,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(x,{value:"Lon",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:c.lon,onChange:l=>d("lon",l.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((C=s==null?void 0:s.header)==null?void 0:C.length)>0&&(s==null?void 0:s.header.map((l,r)=>e.jsx("option",{value:l,children:l},r)))]}),e.jsx(u,{message:t.lon,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(x,{value:"Lat",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:c.lat,onChange:l=>d("lat",l.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((E=s==null?void 0:s.header)==null?void 0:E.length)>0&&(s==null?void 0:s.header.map((l,r)=>e.jsx("option",{value:l,children:l},r)))]}),e.jsx(u,{message:t.lat,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(x,{value:"BB Type",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:c.bb_type,onChange:l=>d("bb_type",l.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((q=s==null?void 0:s.header)==null?void 0:q.length)>0&&(s==null?void 0:s.header.map((l,r)=>e.jsx("option",{value:l,children:l},r)))]}),e.jsx(u,{message:t.bb_type,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(x,{value:"RRU Type",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:c.rru_type,onChange:l=>d("rru_type",l.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((z=s==null?void 0:s.header)==null?void 0:z.length)>0&&(s==null?void 0:s.header.map((l,r)=>e.jsx("option",{value:l,children:l},r)))]}),e.jsx(u,{message:t.rru_type,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(x,{value:"Antenna Type",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:c.antenna_type,onChange:l=>d("antenna_type",l.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((O=s==null?void 0:s.header)==null?void 0:O.length)>0&&(s==null?void 0:s.header.map((l,r)=>e.jsx("option",{value:l,children:l},r)))]}),e.jsx(u,{message:t.antenna_type,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(x,{value:"Frequency",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:c.frequency,onChange:l=>d("frequency",l.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((P=s==null?void 0:s.header)==null?void 0:P.length)>0&&(s==null?void 0:s.header.map((l,r)=>e.jsx("option",{value:l,children:l},r)))]}),e.jsx(u,{message:t.frequency,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(x,{value:"PCI",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:c.pci,onChange:l=>d("pci",l.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((B=s==null?void 0:s.header)==null?void 0:B.length)>0&&(s==null?void 0:s.header.map((l,r)=>e.jsx("option",{value:l,children:l},r)))]}),e.jsx(u,{message:t.pci,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(x,{value:"Azimuth",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:c.azimuth,onChange:l=>d("azimuth",l.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((I=s==null?void 0:s.header)==null?void 0:I.length)>0&&(s==null?void 0:s.header.map((l,r)=>e.jsx("option",{value:l,children:l},r)))]}),e.jsx(u,{message:t.azimuth,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(x,{value:"Height",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:c.height,onChange:l=>d("height",l.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((L=s==null?void 0:s.header)==null?void 0:L.length)>0&&(s==null?void 0:s.header.map((l,r)=>e.jsx("option",{value:l,children:l},r)))]}),e.jsx(u,{message:t.height,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(x,{value:"Last EPO",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:c.last_epo,onChange:l=>d("last_epo",l.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((M=s==null?void 0:s.header)==null?void 0:M.length)>0&&(s==null?void 0:s.header.map((l,r)=>e.jsx("option",{value:l,children:l},r)))]}),e.jsx(u,{message:t.last_epo,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(x,{value:"Next EPO",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:c.next_epo,onChange:l=>d("next_epo",l.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((R=s==null?void 0:s.header)==null?void 0:R.length)>0&&(s==null?void 0:s.header.map((l,r)=>e.jsx("option",{value:l,children:l},r)))]}),e.jsx(u,{message:t.next_epo,className:"!text-[12px] font-medium"})]})]})})]}),e.jsxs(n.DialogFooter,{children:[e.jsx(n.Button,{variant:"text",color:"red",onClick:H,className:"mr-1",disabled:v,children:e.jsx("span",{children:"Cancel"})}),e.jsx(n.Button,{variant:"gradient",color:"green",onClick:$,loading:v,children:e.jsx("span",{children:"Confirm"})})]})]})})}export{a as default};
