import{j as e,Y as i,a as u,R as v}from"./app-C3K3E0Or.js";import{A as _}from"./AuthenticatedLayout-B9CD0UbW.js";import{r}from"./index-B5qy-RMi.js";import{U as T}from"./UploadItem-73U4Tae-.js";import{f as N}from"./format-D5IGutSq.js";import{F as w,I as F}from"./index-CqNwThrF.js";import"./transition-iKNS_nhH.js";import"./ApplicationLogo-DOsQQbw1.js";import"./download-CtHnVTkR.js";function B({auth:h,site:l,trackings:m}){const y=["Site Name","Cell Name","Lon","Lat","BB Type","RRU Type","Antenna Type","Frequency","PCI","Azimuth","Height","Last EPO","Next EPO","Solution Type","Start Date","End Date","Status","Remarks","Artifacts"],n=(a,d)=>{var x,t,p;if(a)return d==="start_date"||d==="end_date"?f((x=a[d])==null?void 0:x.value):d==="solution_type"||d==="status"?j((t=a[d])==null?void 0:t.value):(p=a[d])==null?void 0:p.value},j=a=>{if(a)return a.replace(/_/g," ")},f=a=>{if(a){const d=new Date(a);return N(d,"dd/MM/yyyy")}},b=({files:a})=>{if(a){const d=JSON.parse(a),x=o=>o.split(".").pop(),t=o=>{const c=o.split("/");let s=c[c.length-1];return s=s.replace(/^\d+_/,""),s},p=(o,c)=>{const s=document.createElement("a");s.href=o,s.download=c,document.body.appendChild(s),s.click(),document.body.removeChild(s)};return e.jsx("div",{className:"flex mt-3",children:d==null?void 0:d.map((o,c)=>e.jsxs(v.Fragment,{children:[x(o)==="csv"&&e.jsx(r.Tooltip,{content:t(o),children:e.jsx(w,{onClick:()=>p(o,t(o)),className:"cursor-pointer"})}),x(o)==="txt"&&e.jsx("img",{src:"txt-icon.png",alt:"Text File Icon"}),x(o)==="pdf"&&e.jsx(r.Tooltip,{content:t(o),children:e.jsx(F,{})})]},c))})}};return e.jsxs(_,{user:h==null?void 0:h.user,children:[e.jsx(i,{title:"FWSite"}),e.jsx("div",{className:"top-section p-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"",children:[e.jsx(r.Typography,{variant:"h3",className:"tracking-tight",children:l==null?void 0:l.site_name}),e.jsxs("ul",{className:"flex gap-1 text-gray-600 text-sm",children:[e.jsx("li",{children:e.jsx(u,{href:route("dashboard"),children:"Dashboard"})}),e.jsx("li",{children:"/"}),e.jsx("li",{children:e.jsx(u,{href:route("site.field.name.index"),children:"FWSites"})})]})]})})}),e.jsx("div",{className:"content mt-6",children:e.jsx(r.Card,{className:"h-full w-full rounded-none",children:e.jsx("div",{className:"overflow-x-auto overflow-hidden",children:e.jsxs("table",{className:"w-full min-w-max table-auto text-left",children:[e.jsx("thead",{children:e.jsx("tr",{children:y.map(a=>e.jsx("th",{className:"border-y border-blue-gray-100 bg-blue-gray-50/50 p-2 border-l cursor-pointer",children:e.jsx("div",{className:"flex justify-between",children:e.jsx(r.Typography,{variant:"small",className:"leading-none text-gray-800 font-medium text-sm",children:a})})},a))})}),e.jsx("tbody",{children:e.jsxs("tr",{className:"even:bg-blue-gray-50/50",children:[e.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:e.jsx(u,{href:"#",children:l==null?void 0:l.site_name})}),e.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:l==null?void 0:l.cell_name}),e.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:l==null?void 0:l.lon}),e.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:l==null?void 0:l.lat}),e.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:l==null?void 0:l.bb_type}),e.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:l==null?void 0:l.rru_type}),e.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:l==null?void 0:l.antenna_type}),e.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:l==null?void 0:l.frequency}),e.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:l==null?void 0:l.pci}),e.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:l==null?void 0:l.azimuth}),e.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:l==null?void 0:l.height}),e.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:l==null?void 0:l.last_epo}),e.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:l==null?void 0:l.next_epo}),e.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2 capitalize",children:n(l==null?void 0:l.tracking,"solution_type")}),e.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:n(l==null?void 0:l.tracking,"start_date")}),e.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2",children:n(l==null?void 0:l.tracking,"end_date")}),e.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2 capitalize",children:n(l==null?void 0:l.tracking,"status")}),e.jsx("td",{className:"border-l h-10 text-[12px] font-medium ps-2 capitalize",children:n(l==null?void 0:l.tracking,"remarks")}),e.jsx("td",{className:"border-l h-10",children:e.jsx(T,{value:n(l==null?void 0:l.tracking,"artifacts"),name:"artifacts",locId:l.loc_id,siteId:l.id,single:!0})})]},l.id)})]})})})}),e.jsx("div",{children:e.jsx("div",{className:"py-12 px-12 relative z-10",children:e.jsx(r.Timeline,{children:m==null?void 0:m.map((a,d)=>e.jsxs(r.TimelineItem,{children:[d+1!==(m==null?void 0:m.length)&&e.jsx(r.TimelineConnector,{}),e.jsxs(r.TimelineHeader,{className:"h-3",children:[e.jsx(r.TimelineIcon,{}),e.jsx(r.Typography,{variant:"h6",color:"blue-gray",className:"leading-none",children:N(new Date(a.created_at),"MMMM dd, yyyy HH:mm:ss")})]}),e.jsx(r.TimelineBody,{className:"pb-8",children:(a==null?void 0:a.key)==="artifacts"?e.jsxs(r.Typography,{variant:"small",color:"gray",className:"font-normal text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:a==null?void 0:a.user.name})," Uploaded New  ",e.jsx("span",{className:"capitalize font-semibold",children:a.key?a.key.replace(/_/g," "):""}),(a==null?void 0:a.value)&&e.jsx(b,{files:a==null?void 0:a.value})]}):e.jsxs(r.Typography,{variant:"small",color:"gray",className:"font-normal text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:a==null?void 0:a.user.name})," changed value of ",e.jsx("span",{className:"capitalize font-semibold",children:a.key?a.key.replace(/_/g," "):""})," to",e.jsx("span",{className:"capitalize block",children:(a==null?void 0:a.key)==="start_date"||(a==null?void 0:a.key)==="end_date"?f(a.value):e.jsx(e.Fragment,{children:(a==null?void 0:a.key)==="status"||(a==null?void 0:a.key)==="solution_type"?j(a.value):a.value})})]})})]},d))})})})]})}export{B as default};
