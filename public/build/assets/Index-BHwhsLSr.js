import{r as N,j as e,R as K,b as Y,y as M,W as D,Y as re,a as q}from"./app-C6jrbMoX.js";import{r as i}from"./index-f3svSaYE.js";import{_ as U,A as oe,C as ne}from"./AuthenticatedLayout-C0WuoabP.js";import{D as te,S as ce,E as de,C as ae,P as ie}from"./ExportButton-5HppZy2w.js";import{T as G}from"./TextInput-BIPnZpur.js";import{U as xe}from"./UploadItemField-DmAN1D34.js";import{I as g}from"./InputLabel-CSMFfQvb.js";import{I as p}from"./InputError-B7AkdK5t.js";import"./transition-0TAARjeD.js";import"./index-rLrgfTGh.js";function ee({siteId:x,locId:t,name:s,value:u,handleEditAbleItem:a}){const[m,b]=N.useState(u||""),r=f=>{b(f),a(x,t,s,f)};return e.jsx("div",{className:"w-full h-full",children:e.jsx("textarea",{className:"border-none focus:ring-0 bg-transparent !shadow-none text-[12px] font-medium w-full",value:m,rows:1,onChange:f=>{r(f.target.value)}})})}function Q({siteId:x,locId:t,name:s,value:u,handleEditAbleItem:a}){const[m,b]=N.useState(u||""),r=f=>{b(f),a(x,t,s,f)};return e.jsx("div",{className:"w-full h-full",children:e.jsx(te,{selected:m,onChange:f=>r(f),className:"border-none focus:ring-0 w-full bg-transparent !shadow-none text-[12px] font-medium",dateFormat:"dd/MM/yyyy"})})}function X({siteId:x,locId:t,name:s,value:u,options:a,handleEditAbleItem:m}){const[b,r]=N.useState(u||""),f=h=>{r(h),m(x,t,s,h)};return e.jsx("div",{className:"w-full h-full",children:e.jsxs("select",{value:b,onChange:h=>{f(h.target.value)},className:"border-none focus:ring-0 w-full bg-transparent !shadow-none text-[12px] font-medium",children:[e.jsx("option",{value:"",children:"Select"}),(a==null?void 0:a.length)>0&&a.map((h,y)=>e.jsx("option",{value:h.value,children:h.label},y))]})})}const ue={text:ee,date:Q,dropdown:X};function me({column:x,site:t,value:s,handleEditAbleItem:u}){const a=ue[x.input_type];return e.jsx(a,{siteId:t==null?void 0:t.id,locId:t==null?void 0:t.loc_id,name:x.key,value:s,handleEditAbleItem:u,options:JSON.parse(x==null?void 0:x.options)})}function he({site_id:x,changedItems:t,setChangedItems:s}){const[u,a]=N.useState(!1),m=async b=>{var r,f,h;if(t.length>0){let y=t.filter(k=>k.site_id===b)[0];if(y){a(!0);const k=await axios.post(route("wireless.sites.save.item"),{site_id:y==null?void 0:y.site_id,location_id:y==null?void 0:y.loc_id,items:y==null?void 0:y.items});(r=k==null?void 0:k.data)!=null&&r.success&&(a(!1),U.success((h=(f=k==null?void 0:k.data)==null?void 0:f.success)==null?void 0:h.message),s($=>$.filter(z=>z.site_id!==b)))}}};return e.jsx(i.Button,{size:"sm",className:"capitalize py-1 px-2 rounded font-semibold",disabled:!t.some(b=>b.site_id===x),onClick:()=>{m(x)},loading:u,children:"Save"})}function fe({mappingDialog:x,setMappingDialog:t,mappingData:s,setBatchId:u}){var F,E,I,A,H,O,V,L,J,R,T,W;const a=()=>t(!x),[m,b]=N.useState({file_path:s?s==null?void 0:s.filePath:"",loc_id:"",wntd:"",imsi:"",version:"",avc:"",bw_profile:"",lon:"",lat:"",site_name:"",home_cell:"",home_pci:"",traffic_profile:""}),[r,f]=N.useState({}),[h,y]=N.useState(!1),[k,$]=N.useState(""),[z,c]=N.useState(""),j=(o,d)=>{b(B=>({...B,[o]:d}))};N.useEffect(()=>{j("file_path",s!=null&&s.filePath?s==null?void 0:s.filePath:"")},[s]);const P=async o=>{var B,l,v,C,_,S;o.preventDefault();let d={};if(["loc_id","wntd","imsi","version","avc","bw_profile","lon","lat","site_name","home_cell","home_pci","traffic_profile"].forEach(n=>{m[n]||(d[n]="This field is required.")}),f(d),Object.keys(d).length>0){console.log(d);return}try{y(!0);const n=await Y.post(route("wireless.sites.map.save"),m);n!=null&&n.data&&(c((l=(B=n==null?void 0:n.data)==null?void 0:B.success)==null?void 0:l.message),u((v=n==null?void 0:n.data)==null?void 0:v.batch_id),setTimeout(()=>{t(!1),c(""),$("")},3e3),M.visit(route("wireless.sites.index")))}catch(n){console.log("error:",n),$(`${(S=(_=(C=n==null?void 0:n.response)==null?void 0:C.data)==null?void 0:_.error)==null?void 0:S.message}`)}finally{y(!1)}};return e.jsx(K.Fragment,{children:e.jsxs(i.Dialog,{open:x,size:"xs",children:[e.jsx(i.DialogHeader,{children:"CSV Mapping"}),k&&e.jsx("p",{className:"text-red-500 font-medium text-[12px] px-4",children:k}),z&&e.jsx("p",{className:"text-green-500 font-medium text-[12px] px-4",children:z}),e.jsxs(i.DialogBody,{className:"px-6 overflow-scroll",children:[e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(g,{value:"LOCID",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:m.loc_id,onChange:o=>j("loc_id",o.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((F=s==null?void 0:s.header)==null?void 0:F.length)>0&&(s==null?void 0:s.header.map((o,d)=>e.jsx("option",{value:o,children:o},d)))]}),e.jsx(p,{message:r.loc_id,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(g,{value:"WNTD",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:m.wntd,onChange:o=>j("wntd",o.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((E=s==null?void 0:s.header)==null?void 0:E.length)>0&&(s==null?void 0:s.header.map((o,d)=>e.jsx("option",{value:o,children:o},d)))]}),e.jsx(p,{message:r.wntd,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(g,{value:"IMSI",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:m.imsi,onChange:o=>j("imsi",o.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((I=s==null?void 0:s.header)==null?void 0:I.length)>0&&(s==null?void 0:s.header.map((o,d)=>e.jsx("option",{value:o,children:o},d)))]}),e.jsx(p,{message:r.imsi,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(g,{value:"VERSION",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:m.version,onChange:o=>j("version",o.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((A=s==null?void 0:s.header)==null?void 0:A.length)>0&&(s==null?void 0:s.header.map((o,d)=>e.jsx("option",{value:o,children:o},d)))]}),e.jsx(p,{message:r.version,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(g,{value:"AVC",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:m.avc,onChange:o=>j("avc",o.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((H=s==null?void 0:s.header)==null?void 0:H.length)>0&&(s==null?void 0:s.header.map((o,d)=>e.jsx("option",{value:o,children:o},d)))]}),e.jsx(p,{message:r.avc,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(g,{value:"BW Profile",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:m.bw_profile,onChange:o=>j("bw_profile",o.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((O=s==null?void 0:s.header)==null?void 0:O.length)>0&&(s==null?void 0:s.header.map((o,d)=>e.jsx("option",{value:o,children:o},d)))]}),e.jsx(p,{message:r.bw_profile,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(g,{value:"Lon",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:m.lon,onChange:o=>j("lon",o.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((V=s==null?void 0:s.header)==null?void 0:V.length)>0&&(s==null?void 0:s.header.map((o,d)=>e.jsx("option",{value:o,children:o},d)))]}),e.jsx(p,{message:r.lon,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(g,{value:"Lat",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:m.lat,onChange:o=>j("lat",o.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((L=s==null?void 0:s.header)==null?void 0:L.length)>0&&(s==null?void 0:s.header.map((o,d)=>e.jsx("option",{value:o,children:o},d)))]}),e.jsx(p,{message:r.lat,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(g,{value:"SiteName",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:m.site_name,onChange:o=>j("site_name",o.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((J=s==null?void 0:s.header)==null?void 0:J.length)>0&&(s==null?void 0:s.header.map((o,d)=>e.jsx("option",{value:o,children:o},d)))]}),e.jsx(p,{message:r.site_name,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(g,{value:"HomeCell",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:m.home_cell,onChange:o=>j("home_cell",o.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((R=s==null?void 0:s.header)==null?void 0:R.length)>0&&(s==null?void 0:s.header.map((o,d)=>e.jsx("option",{value:o,children:o},d)))]}),e.jsx(p,{message:r.home_cell,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(g,{value:"HomePCI",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:m.home_pci,onChange:o=>j("home_pci",o.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((T=s==null?void 0:s.header)==null?void 0:T.length)>0&&(s==null?void 0:s.header.map((o,d)=>e.jsx("option",{value:o,children:o},d)))]}),e.jsx(p,{message:r.home_pci,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(g,{value:"Traffic_Profile",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:m.traffic_profile,onChange:o=>j("traffic_profile",o.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((W=s==null?void 0:s.header)==null?void 0:W.length)>0&&(s==null?void 0:s.header.map((o,d)=>e.jsx("option",{value:o,children:o},d)))]}),e.jsx(p,{message:r.traffic_profile,className:"!text-[12px] font-medium"})]})]})})]}),e.jsxs(i.DialogFooter,{children:[e.jsx(i.Button,{variant:"text",color:"red",onClick:a,className:"mr-1",disabled:h,children:e.jsx("span",{children:"Cancel"})}),e.jsx(i.Button,{variant:"gradient",color:"green",onClick:P,loading:h,children:e.jsx("span",{children:"Confirm"})})]})]})})}function je(){const[x,t]=N.useState(!1),{data:s,setData:u,post:a,processing:m,errors:b,reset:r}=D({type:"wntd",name:"",key:"",input_type:"",options:""}),f=h=>{h.preventDefault(),a(route("additional.columns.save.item"),{onSuccess:()=>{t(!1),r()}})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"add-column",children:e.jsx(i.Button,{variant:"gradient",className:"capitalize",size:"sm",onClick:()=>{t(!0)},children:"Add Column"})}),e.jsxs(i.Dialog,{open:x,size:"xs",children:[e.jsx(i.DialogHeader,{children:"Add New Column"}),e.jsxs(i.DialogBody,{children:[e.jsxs("div",{className:"form-item mb-4",children:[e.jsx(g,{value:"Column Name",className:"mb-1"}),e.jsx(G,{className:"w-full text-sm font-normal",placeholder:"Column Name...",value:s.name,onChange:h=>u("name",h.target.value)}),e.jsx(p,{message:b.name,className:"text-sm font-medium"})]}),e.jsxs("div",{className:"form-item mb-4",children:[e.jsx(g,{value:"Column Key",className:"mb-1"}),e.jsx(G,{className:"w-full text-sm font-normal",placeholder:"Column key...",value:s.key,onChange:h=>u("key",h.target.value)}),e.jsx(p,{message:b.key,className:"text-sm font-medium"})]}),e.jsxs("div",{className:"form-item mb-4",children:[e.jsx(g,{value:"Column Input Type",className:"mb-1"}),e.jsxs("select",{className:"w-full rounded text-sm border-gray-300 shadow-sm font-normal focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600",value:s.input_type,onChange:h=>u("input_type",h.target.value),children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"text",children:"Text"}),e.jsx("option",{value:"date",children:"Date"}),e.jsx("option",{value:"dropdown",children:"DropDown"})]}),e.jsx(p,{message:b.input_type,className:"text-sm font-medium"})]}),(s==null?void 0:s.input_type)==="dropdown"&&e.jsxs("div",{className:"form-item mb-4",children:[e.jsx(g,{value:"Dropdown Options seprated by (|)",className:"mb-1"}),e.jsx("textarea",{className:"w-full rounded text-sm border-gray-300 shadow-sm font-normal focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600",placeholder:"Dropdown Options seprated by | ...",rows:4,value:s.options,onChange:h=>u("options",h.target.value)}),e.jsx(p,{message:b.options,className:"text-sm font-medium"})]})]}),e.jsxs(i.DialogFooter,{children:[e.jsx(i.Button,{variant:"text",color:"red",onClick:()=>t(!x),className:"mr-1 capitalize",children:e.jsx("span",{children:"Cancel"})}),e.jsx(i.Button,{variant:"gradient",color:"green",onClick:h=>f(h),className:"capitalize",loading:m,children:e.jsx("span",{children:"Submit"})})]})]})]})}function ve({columns:x,additional_columns:t,hidden_columns:s}){const[u,a]=N.useState(!1),m=()=>a(!u),{data:b,setData:r,post:f,processing:h,errors:y,reset:k}=D({type:"wntd",key:"hide",items:(s==null?void 0:s.length)>0?s:[]}),$=(c,j)=>{const P=c.target.checked;r(F=>P?{...F,items:[...F.items,j]}:{...F,items:F.items.filter(E=>E!==j)})},z=c=>{c.preventDefault(),f(route("hide.columns.item"),{onSuccess:()=>{a(!1),k()}})};return e.jsxs(e.Fragment,{children:[e.jsx(i.Button,{variant:"gradient",className:"capitalize",size:"sm",onClick:m,children:"Hide Column"}),e.jsxs(i.Dialog,{open:u,size:"xs",children:[e.jsx(i.DialogHeader,{children:"Hide Column"}),e.jsx(i.DialogBody,{children:e.jsxs("div",{className:"form-item",children:[e.jsx("p",{className:"text-[#333] font-semibold",children:"Please select the column you want to hide"}),e.jsxs("div",{className:"form-item grid grid-cols-2",children:[(x==null?void 0:x.length)>0&&x.map((c,j)=>e.jsx(K.Fragment,{children:e.jsx(i.Checkbox,{containerProps:{className:"py-3"},className:"w-5 h-5 rounded-md",label:e.jsx(i.Typography,{color:"blue-gray",className:"font-medium text-sm",children:c==null?void 0:c.name}),onChange:P=>$(P,c==null?void 0:c.key),defaultChecked:s==null?void 0:s.includes(c==null?void 0:c.key)})},j)),(t==null?void 0:t.length)>0&&t.map((c,j)=>e.jsx(K.Fragment,{children:e.jsx(i.Checkbox,{containerProps:{className:"py-3"},className:"w-5 h-5 rounded-md",label:e.jsx(i.Typography,{color:"blue-gray",className:"font-medium text-sm",children:c==null?void 0:c.name}),onChange:P=>$(P,c==null?void 0:c.key),defaultChecked:s==null?void 0:s.includes(c==null?void 0:c.key)})},j))]})]})}),e.jsxs(i.DialogFooter,{children:[e.jsx(i.Button,{variant:"text",color:"red",onClick:m,className:"mr-1 capitalize",children:e.jsx("span",{children:"Cancel"})}),e.jsx(i.Button,{variant:"gradient",color:"green",onClick:c=>{z(c)},className:"capitalize",children:e.jsx("span",{children:"Confirm"})})]})]})]})}function Pe({auth:x,sites:t,get_data:s,batch:u,additional_columns:a,hidden_columns:m}){var B;const{role:b}=x,r=JSON.parse(m),f=[{name:"LOCID",sortable:!0,key:"loc_id"},{name:"WNTD",sortable:!0,key:"wntd"},{name:"IMSI",sortable:!0,key:"imsi"},{name:"VERSION",sortable:!0,key:"version"},{name:"AVC",sortable:!0,key:"avc"},{name:"BW Profile",sortable:!0,key:"bw_profile"},{name:"Lon",sortable:!0,key:"lon"},{name:"Lat",sortable:!0,key:"lat"},{name:"SiteName",sortable:!0,key:"site_name"},{name:"HomeCell",sortable:!0,key:"home_cell"},{name:"HomePCI",sortable:!0,key:"home_pci"},{name:"Traffic Profile",sortable:!0,key:"traffic_profile"},{name:"Start Date",sortable:!1,key:"start_date"},{name:"End Date",sortable:!1,key:"end_date"},{name:"Solution Type",sortable:!1,key:"solution_type"},{name:"Status",sortable:!1,key:"status"},{name:"Remarks",sortable:!1,key:"remarks"},{name:"Artifacts",sortable:!1,key:"artifacts"}],h=N.useRef(null),[y,k]=N.useState(s!=null&&s.search?s==null?void 0:s.search:""),[$,z]=N.useState(s!=null&&s.per_page?s==null?void 0:s.per_page:10),[c]=N.useState(t),[j,P]=N.useState(!1),[F,E]=N.useState(""),[I,A]=N.useState(null),[H,O]=N.useState([]),V=l=>{h.current.click()},L=async l=>{var C,_,S;const v=new FormData;v.append("import_file",l.target.files[0]);try{const n=await Y.post(route("wireless.sites.import"),v);n!=null&&n.data&&(E(n==null?void 0:n.data),P(!0))}catch(n){U.error(`${(S=(_=(C=n==null?void 0:n.response)==null?void 0:C.data)==null?void 0:_.error)==null?void 0:S.message}`)}},J=async()=>{M.get(route("wireless.sites.index",{search:y}))},R=async(l,v)=>{M.get(route("wireless.sites.index",{order_by:l,order:v}))},T=(l,v)=>{var C;if(l)return(C=l[v])==null?void 0:C.value},W=async(l,v)=>{M.get(route("wireless.sites.index",{filter_by:l,value:v}))},o=l=>{z(l),M.get(route("wireless.sites.index",{...s,per_page:l}))};N.useEffect(()=>{u!=null&&u.batch_site_id&&A(u==null?void 0:u.batch_site_id)},[]),N.useEffect(()=>{const l=async()=>{var C,_,S;try{let n=0;const w=await Y.get(route("import.progress",{batchId:I}));if(w!=null&&w.data){let Z=parseInt((C=w==null?void 0:w.data)==null?void 0:C.total_jobs),se=parseInt((_=w==null?void 0:w.data)==null?void 0:_.pending_jobs),le=Z-se;parseInt((S=w==null?void 0:w.data)==null?void 0:S.failed_jobs)>0?clearInterval(v):(n=parseInt(le/Z*100).toFixed(0),n<100?U.loading(`CSV Data Import Progress: ${n}%.
 Please wait....`,{id:"loading-toast",style:{backgroundColor:"#424242",color:"#ffffff",fontSize:14,borderRadius:4,fontWeight:"bold"}}):(U.dismiss("loading-toast"),clearInterval(v)))}}catch(n){console.log(n)}},v=setInterval(()=>{I&&l()},1e3);return()=>clearInterval(v)},[I]);const d=(l,v,C,_)=>{const S=H.findIndex(n=>n.site_id===l&&n.loc_id===v);O(S!==-1?n=>{const w=[...n];return w[S]={...w[S],items:{...w[S].items,[C]:_}},w}:n=>[...n,{site_id:l,loc_id:v,items:{[C]:_}}])};return e.jsxs(oe,{user:x==null?void 0:x.user,children:[e.jsx(re,{title:"Wireless Sites"}),e.jsx("div",{className:"top-section p-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"",children:[e.jsx(i.Typography,{variant:"h3",className:"tracking-tight",children:"WNTD"}),e.jsxs("ul",{className:"flex gap-1 text-gray-600 text-sm",children:[e.jsx("li",{children:e.jsx(q,{href:route("dashboard"),children:"Dashboard"})}),e.jsx("li",{children:"/"}),e.jsx("li",{children:e.jsx(q,{href:route("wireless.sites.index"),children:"WNTD"})})]})]})})}),e.jsx("div",{className:"filter-wrapper md:px-4",children:e.jsxs("div",{className:"flex filter-details justify-end gap-2",children:[e.jsxs("div",{className:"search-wrapper w-1/3 flex relative",children:[e.jsx(G,{placeholder:"Search...",className:"w-full text-sm rounded-md rounded-r-none border-r-0 focus:ring-0 h-8",value:y,onChange:l=>k(l.target.value)}),e.jsx("div",{className:"search-icon",children:e.jsx(i.IconButton,{size:"sm",className:"rounded-l-none",onClick:J,children:e.jsx(ce,{color:"white",size:18})})})]}),e.jsx("div",{className:"status-filter",children:e.jsxs("select",{className:"w-52 text-sm rounded-md focus:ring-0 h-8 border-gray-300 py-1 text-gray-600 font-medium",onChange:l=>W("status",l.target.value),value:(s==null?void 0:s.filter_by)==="status"?s==null?void 0:s.value:"",children:[e.jsx("option",{value:"",children:"Filter by Status"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"not_started",children:"Not Started"}),e.jsx("option",{value:"completed",children:"Completed"})]})}),e.jsx("div",{className:"filter-solution-type",children:e.jsxs("select",{className:"w-52 text-sm rounded-md focus:ring-0 h-8 border-gray-300 py-1 text-gray-600 font-medium",onChange:l=>W("solution_type",l.target.value),value:(s==null?void 0:s.filter_by)==="solution_type"?s==null?void 0:s.value:"",children:[e.jsx("option",{value:"",children:"Filter by Solution Type"}),e.jsx("option",{value:"device_upgrade",children:"Device Upgrade"}),e.jsx("option",{value:"reparent",children:"Reparent"}),e.jsx("option",{value:"repan",children:"Repan"})]})}),b==="super-admin"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"import-type-field",children:[e.jsx(i.Button,{variant:"gradient",className:"capitalize",size:"sm",onClick:V,children:"Import from CSV"}),e.jsx("input",{type:"file",onChange:L,ref:h,style:{display:"none"}})]}),e.jsx(je,{}),e.jsx(ve,{columns:f,additional_columns:a,hidden_columns:r})]}),e.jsx(de,{route_name:"wireless.sites.export",file_name:"WNTD_Export"})]})}),e.jsxs("div",{className:"content mt-6",children:[e.jsx(i.Card,{className:"h-full w-full rounded-none",children:e.jsxs("div",{className:"overflow-x-auto overflow-hidden",children:[e.jsxs("table",{className:"w-full table-auto",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[f.map(l=>e.jsx("th",{className:`border-y border-blue-gray-100 bg-blue-gray-50/50 p-2 border-l cursor-pointer ${r!=null&&r.includes(l==null?void 0:l.key)?"hidden":""}`,children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx(i.Typography,{variant:"small",className:"leading-none text-gray-800 font-medium text-sm",children:l.name}),(l==null?void 0:l.sortable)&&e.jsxs("div",{className:"relative mt-1",children:[e.jsx("span",{className:"absolute -top-2 right-0 hover:bg-blue-gray-100 rounded-sm",children:e.jsx(ae,{size:12,strokeWidth:2,onClick:()=>{R(l.key,"asc")}})}),e.jsx("span",{className:"absolute -bottom-1 right-0 hover:bg-blue-gray-100 rounded-sm",children:e.jsx(ne,{size:12,strokeWidth:2,onClick:()=>{R(l.key,"desc")}})})]})]})},l.name)),(a==null?void 0:a.length)>0&&(a==null?void 0:a.map(l=>e.jsx("th",{className:`border-y border-blue-gray-100 bg-blue-gray-50/50 p-2 border-l cursor-pointer ${r!=null&&r.includes(l==null?void 0:l.key)?"hidden":""}`,children:e.jsx("div",{className:"flex justify-between",children:e.jsx(i.Typography,{variant:"small",className:"leading-none text-gray-800 font-medium text-sm",children:l.name})})},l.name))),e.jsx("th",{className:"border-y border-blue-gray-100 bg-blue-gray-50/50 p-2 border-l cursor-pointer"})]})}),e.jsx("tbody",{children:c==null?void 0:c.data.map(l=>e.jsxs("tr",{className:"even:bg-blue-gray-50/50",children:[e.jsx("td",{className:`border-l h-10 text-[12px] font-medium ps-2 ${r!=null&&r.includes("loc_id")?"hidden":""}`,children:e.jsx(q,{href:route("wireless.show.location.index",l==null?void 0:l.loc_id),className:"font-semibold underline",children:l==null?void 0:l.loc_id})}),e.jsx("td",{className:`border-l h-10 text-[12px] font-medium ps-2 ${r!=null&&r.includes("wntd")?"hidden":""}`,children:l==null?void 0:l.wntd}),e.jsx("td",{className:`border-l h-10 text-[12px] font-medium ps-2 ${r!=null&&r.includes("imsi")?"hidden":""}`,children:l==null?void 0:l.imsi}),e.jsx("td",{className:`border-l h-10 text-[12px] font-medium ps-2 ${r!=null&&r.includes("version")?"hidden":""}`,children:l==null?void 0:l.version}),e.jsx("td",{className:`border-l h-10 text-[12px] font-medium ps-2 ${r!=null&&r.includes("avc")?"hidden":""}`,children:l==null?void 0:l.avc}),e.jsx("td",{className:`border-l h-10 text-[12px] font-medium ps-2 ${r!=null&&r.includes("bw_profile")?"hidden":""}`,children:l==null?void 0:l.bw_profile}),e.jsx("td",{className:`border-l h-10 text-[12px] font-medium ps-2 ${r!=null&&r.includes("lon")?"hidden":""}`,children:l==null?void 0:l.lon}),e.jsx("td",{className:`border-l h-10 text-[12px] font-medium ps-2 ${r!=null&&r.includes("lat")?"hidden":""}`,children:l==null?void 0:l.lat}),e.jsx("td",{className:`border-l h-10 text-[12px] font-medium ps-2 ${r!=null&&r.includes("site_name")?"hidden":""}`,children:l==null?void 0:l.site_name}),e.jsx("td",{className:`border-l h-10 text-[12px] font-medium ps-2 ${r!=null&&r.includes("home_cell")?"hidden":""}`,children:l==null?void 0:l.home_cell}),e.jsx("td",{className:`border-l h-10 text-[12px] font-medium ps-2 ${r!=null&&r.includes("home_pci")?"hidden":""}`,children:l==null?void 0:l.home_pci}),e.jsx("td",{className:`border-l h-10 text-[12px] font-medium ps-2 ${r!=null&&r.includes("traffic_profile")?"hidden":""}`,children:l==null?void 0:l.traffic_profile}),e.jsx("td",{className:`border-l h-10 ${r!=null&&r.includes("start_date")?"hidden":""}`,children:e.jsx(Q,{value:T(l==null?void 0:l.tracking,"start_date"),name:"start_date",locId:l.loc_id,siteId:l.id,handleEditAbleItem:d})}),e.jsx("td",{className:`border-l h-10 ${r!=null&&r.includes("end_date")?"hidden":""}`,children:e.jsx(Q,{value:T(l==null?void 0:l.tracking,"end_date"),name:"end_date",locId:l.loc_id,siteId:l.id,handleEditAbleItem:d})}),e.jsx("td",{className:`border-l h-10 ${r!=null&&r.includes("solution_type")?"hidden":""}`,children:e.jsx(X,{value:T(l==null?void 0:l.tracking,"solution_type"),name:"solution_type",locId:l.loc_id,siteId:l.id,handleEditAbleItem:d,options:[{label:"Device Upgrade",value:"device_upgrade"},{label:"Reparent",value:"reparent"},{label:"Repan",value:"repan"}]})}),e.jsx("td",{className:`border-l h-10 ${r!=null&&r.includes("status")?"hidden":""}`,children:e.jsx(X,{value:T(l==null?void 0:l.tracking,"status"),name:"status",locId:l.loc_id,siteId:l.id,handleEditAbleItem:d,options:[{label:"In Progress",value:"in_progress"},{label:"Not Started",value:"not_started"},{label:"Completed",value:"completed"}]})}),e.jsx("td",{className:`border-l h-10 ${r!=null&&r.includes("remarks")?"hidden":""}`,children:e.jsx(ee,{value:T(l==null?void 0:l.tracking,"remarks"),name:"remarks",locId:l.loc_id,siteId:l.id,handleEditAbleItem:d})}),e.jsx("td",{className:`border-l h-10 ${r!=null&&r.includes("artifacts")?"hidden":""}`,children:e.jsx(xe,{value:T(l==null?void 0:l.tracking,"artifacts"),name:"artifacts",locId:l.loc_id,siteId:l.id})}),(a==null?void 0:a.length)>0&&a.map((v,C)=>e.jsx("td",{className:`border-l h-10 ${r!=null&&r.includes(v.key)?"hidden":""}`,children:e.jsx(me,{column:v,site:l,value:T(l==null?void 0:l.tracking,v.key),handleEditAbleItem:d})},C)),e.jsx("td",{className:"border-l h-10 px-3",children:e.jsx(he,{site_id:l==null?void 0:l.id,changedItems:H,setChangedItems:O})})]},l.id))})]}),((B=c==null?void 0:c.data)==null?void 0:B.length)===0&&e.jsx(i.Typography,{variant:"h6",color:"blue-gray",className:"text-center py-6",children:"No data found"}),e.jsxs("div",{className:"md:flex grid justify-start md:justify-end items-center pt-6 mb-8 gap-3 px-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-sm font-medium",children:"Rows per Page"}),e.jsxs("select",{className:"rounded-md text-sm font-medium border-gray-400 focus:ring-0 py-2",value:$,onChange:l=>{o(l.target.value)},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"15",children:"15"}),e.jsx("option",{value:"20",children:"20"}),e.jsx("option",{value:"20",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"all",children:"All"})]})]}),e.jsx("div",{className:"text-sm font-medium",children:`${t==null?void 0:t.from}-${t==null?void 0:t.to} of ${t==null?void 0:t.total} Records`}),e.jsx(ie,{links:c==null?void 0:c.links,perPage:$})]})]})}),e.jsx(fe,{mappingDialog:j,setMappingDialog:P,mappingData:F,setBatchId:A})]})]})}export{Pe as default};
