import{r as y,j as e,Y as g,a as u,b as v}from"./app-MJI2P0uu.js";import{A as C,_ as m}from"./AuthenticatedLayout-BW0qwIxT.js";import{r as p}from"./index-Dia_wP9H.js";import"./transition-MKz1PCtb.js";function w({auth:a}){const n=y.useRef(null),h=()=>{n.current.click()},x=async f=>{var s,l,o,c,d;const i=new FormData;i.append("import_file",f.target.files[0]);try{const r=await v.post(route("mo.file.generator.upload"),i,{headers:{"Content-Type":"multipart/form-data"}});(s=r==null?void 0:r.data)!=null&&s.filePaths?(r.data.filePaths.forEach(j=>{const t=document.createElement("a");t.href=j,t.download="",document.body.appendChild(t),t.click(),document.body.removeChild(t)}),n.current.value=null):(o=(l=r==null?void 0:r.data)==null?void 0:l.output)!=null&&o.error&&m.error(`${(d=(c=r==null?void 0:r.data)==null?void 0:c.output)==null?void 0:d.error}`)}catch{m.error("An error occurred during file upload.")}};return e.jsxs(C,{user:a==null?void 0:a.user,children:[e.jsx(g,{title:"Frequency Retune"}),e.jsx("div",{className:"top-section p-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx(p.Typography,{variant:"h3",className:"tracking-tight",children:"MO File Generator"}),e.jsxs("ul",{className:"flex gap-1 text-gray-600 text-sm",children:[e.jsx("li",{children:e.jsx(u,{href:route("dashboard"),children:"Dashboard"})}),e.jsx("li",{children:"/"}),e.jsx("li",{children:e.jsx(u,{href:route("mo.file.generator"),children:"Frequency Retune"})})]})]})})}),e.jsx("div",{className:"content mt-6",children:e.jsxs("div",{className:"mx-6",children:[e.jsx(p.Button,{variant:"gradient",className:"capitalize",size:"sm",onClick:h,children:"Upload xlsx file"}),e.jsx("input",{type:"file",onChange:x,ref:n,style:{display:"none"}})]})})]})}export{w as default};
