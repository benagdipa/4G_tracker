import{r as h,j as e,R as $,d as G,y as J}from"./app-DL3wOLOx.js";import{r as n}from"./index-DpvRk4cZ.js";import{I as t}from"./InputLabel-BauXCiIJ.js";import{I as u}from"./InputError-CuJ2vSCP.js";import"./index-9ekHQsuR.js";import"./floating-ui.dom-BJX5GPEt.js";function a({mappingDialog:f,setMappingDialog:v,mappingData:s}){var _,y,S,C,I,E,M,O,P,L,B,R;const F=()=>v(!f),[c,W]=h.useState({file_path:s?s==null?void 0:s.filePath:"",loc_id:"",wntd:"",imsi:"",version:"",avc:"",bw_profile:"",lon:"",lat:"",site_name:"",home_cell:"",home_pci:"",traffic_profile:""}),[x,q]=h.useState({}),[z,j]=h.useState(!1),[m,N]=h.useState(""),[w,b]=h.useState(""),o=(l,r)=>{W(i=>({...i,[l]:r}))};h.useEffect(()=>{o("file_path",s!=null&&s.filePath?s==null?void 0:s.filePath:"")},[s]);const A=async l=>{var i,T,V,k,H;l.preventDefault();let r={};if(["loc_id","wntd","imsi","version","avc","bw_profile","lon","lat","site_name","home_cell","home_pci","traffic_profile"].forEach(d=>{c[d]||(r[d]="This field is required.")}),q(r),Object.keys(r).length>0){console.log(r);return}try{j(!0);const d=await G.post(route("wireless.sites.map.save"),c);d!=null&&d.data&&(b((T=(i=d==null?void 0:d.data)==null?void 0:i.success)==null?void 0:T.message),setTimeout(()=>{v(!1),b(""),N("")},3e3),J.visit(route("wireless.sites.index")))}catch(d){console.log("error:",d),N(`${(H=(k=(V=d==null?void 0:d.response)==null?void 0:V.data)==null?void 0:k.error)==null?void 0:H.message}`)}finally{j(!1)}};return e.jsx($.Fragment,{children:e.jsxs(n.Dialog,{open:f,size:"xs",children:[e.jsx(n.DialogHeader,{children:"CSV Mapping"}),m&&e.jsx("p",{className:"text-red-500 font-medium text-[12px] px-4",children:m}),w&&e.jsx("p",{className:"text-green-500 font-medium text-[12px] px-4",children:w}),e.jsxs(n.DialogBody,{className:"px-6 overflow-scroll",children:[e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(t,{value:"LOCID",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:c.loc_id,onChange:l=>o("loc_id",l.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((_=s==null?void 0:s.header)==null?void 0:_.length)>0&&(s==null?void 0:s.header.map((l,r)=>e.jsx("option",{value:l,children:l},r)))]}),e.jsx(u,{message:x.loc_id,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(t,{value:"WNTD",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:c.wntd,onChange:l=>o("wntd",l.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((y=s==null?void 0:s.header)==null?void 0:y.length)>0&&(s==null?void 0:s.header.map((l,r)=>e.jsx("option",{value:l,children:l},r)))]}),e.jsx(u,{message:x.wntd,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(t,{value:"IMSI",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:c.imsi,onChange:l=>o("imsi",l.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((S=s==null?void 0:s.header)==null?void 0:S.length)>0&&(s==null?void 0:s.header.map((l,r)=>e.jsx("option",{value:l,children:l},r)))]}),e.jsx(u,{message:x.imsi,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(t,{value:"VERSION",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:c.version,onChange:l=>o("version",l.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((C=s==null?void 0:s.header)==null?void 0:C.length)>0&&(s==null?void 0:s.header.map((l,r)=>e.jsx("option",{value:l,children:l},r)))]}),e.jsx(u,{message:x.version,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(t,{value:"AVC",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:c.avc,onChange:l=>o("avc",l.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((I=s==null?void 0:s.header)==null?void 0:I.length)>0&&(s==null?void 0:s.header.map((l,r)=>e.jsx("option",{value:l,children:l},r)))]}),e.jsx(u,{message:x.avc,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(t,{value:"BW Profile",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:c.bw_profile,onChange:l=>o("bw_profile",l.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((E=s==null?void 0:s.header)==null?void 0:E.length)>0&&(s==null?void 0:s.header.map((l,r)=>e.jsx("option",{value:l,children:l},r)))]}),e.jsx(u,{message:x.bw_profile,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(t,{value:"Lon",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:c.lon,onChange:l=>o("lon",l.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((M=s==null?void 0:s.header)==null?void 0:M.length)>0&&(s==null?void 0:s.header.map((l,r)=>e.jsx("option",{value:l,children:l},r)))]}),e.jsx(u,{message:x.lon,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(t,{value:"Lat",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:c.lat,onChange:l=>o("lat",l.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((O=s==null?void 0:s.header)==null?void 0:O.length)>0&&(s==null?void 0:s.header.map((l,r)=>e.jsx("option",{value:l,children:l},r)))]}),e.jsx(u,{message:x.lat,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(t,{value:"SiteName",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:c.site_name,onChange:l=>o("site_name",l.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((P=s==null?void 0:s.header)==null?void 0:P.length)>0&&(s==null?void 0:s.header.map((l,r)=>e.jsx("option",{value:l,children:l},r)))]}),e.jsx(u,{message:x.site_name,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(t,{value:"HomeCell",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:c.home_cell,onChange:l=>o("home_cell",l.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((L=s==null?void 0:s.header)==null?void 0:L.length)>0&&(s==null?void 0:s.header.map((l,r)=>e.jsx("option",{value:l,children:l},r)))]}),e.jsx(u,{message:x.home_cell,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(t,{value:"HomePCI",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:c.home_pci,onChange:l=>o("home_pci",l.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((B=s==null?void 0:s.header)==null?void 0:B.length)>0&&(s==null?void 0:s.header.map((l,r)=>e.jsx("option",{value:l,children:l},r)))]}),e.jsx(u,{message:x.home_pci,className:"!text-[12px] font-medium"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(t,{value:"Traffic_Profile",className:"w-1/3"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("select",{className:"w-full font-medium text-[12px] py-1 rounded-md border-gray-300",value:c.traffic_profile,onChange:l=>o("traffic_profile",l.target.value),children:[e.jsx("option",{value:"",children:"Select"}),((R=s==null?void 0:s.header)==null?void 0:R.length)>0&&(s==null?void 0:s.header.map((l,r)=>e.jsx("option",{value:l,children:l},r)))]}),e.jsx(u,{message:x.traffic_profile,className:"!text-[12px] font-medium"})]})]})})]}),e.jsxs(n.DialogFooter,{children:[e.jsx(n.Button,{variant:"text",color:"red",onClick:F,className:"mr-1",children:e.jsx("span",{children:"Cancel"})}),e.jsx(n.Button,{variant:"gradient",color:"green",onClick:A,disabled:z,children:e.jsx("span",{children:"Confirm"})})]})]})})}export{a as default};
